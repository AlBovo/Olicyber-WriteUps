#!/usr/bin/env python3
from math import isqrt

n = 9700624973335227055834821387578165820987729817710621527082447155621161414295958099546312097933523578863057993140379629780916269670655470321976734594875144696433530227361137525650790448084448289047204800420531636552990768244095520038285748691537342063595688661621589282117407882397058048167638703912241478051849281193195487402061635333315670227116368030820989272197103085229555972573665288381582068869270978768295751239967706497051433039255249462088379725705374118278747647279659599170149326364777103028984912684556440494924611905789226845891638154706316392010947789075975455446965196233425530921819310799161323107809
enc = 8255580707896644432561956914424511471156334555984014637394268024014293285137846892082431680072999329834245851671226254792610938021174324290279689177673407973448165108483400895114345223920594207515074785977239456887513632895162796944772179710008119306496435999952704488049608909998364713995991189159984715391344799912651466947076818542145290798936009114564571357839411521115728712609700550218526388693065678870553612075888445831063049794685793351197809113461654235636151015053726345333633951060839323791405505967387608467727815386445368427526327272024540927329442616358313519898374951339720776062847341416474879607959

# n = p * (p + x*10^a - y*10^a - x*10^b + y*10^b)
# p^2 + p*(x - y)*(10^a - 10^b) - n
# d = (x - y)*(10^a - 10^b)
# p_1,p_2 = (-d +/- sqrt(d^2 - 4*n))/2
# 0 <= x,y <= 9
# 0 <= a,b <= 309

for x in range(10):
    for y in range(10):
        for a in range(310):
            for b in range(310):
                d = (x-y)*(10**a - 10**b)
                if d**2 + 4*n <= 0:
                    continue
                s = isqrt(d**2 + 4*n)
                p_1 = (-d + s) // 2
                p_2 = (-d - s) // 2
                if n % p_1 == 0 and p_1 > 0:
                    p = p_1
                    break
                if n % p_2 == 0 and p_2 > 0:
                    p = p_2
                    break
q = n // p
print(p, q)
phi = (p-1)*(q-1)
d = pow(0x10001, -1, phi)
pl = pow(enc, d, n)
print(pl.to_bytes(80))
